<!DOCTYPE html>

 




<html class="theme-next pisces motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/tpaaaaaa.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/tpaaaaaa.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/tpaaaaaa.github.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/tpaaaaaa.github.io/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/tpaaaaaa.github.io/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/tpaaaaaa.github.io/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/tpaaaaaa.github.io/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="个人blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Tian&#39;s Blog">
<meta property="og:url" content="https:&#x2F;&#x2F;tpaaaaaa.github.io&#x2F;page&#x2F;8&#x2F;index.html">
<meta property="og:site_name" content="Tian&#39;s Blog">
<meta property="og:description" content="个人blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/tpaaaaaa.github.io/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"slideUpOut","post_header":"slideUpOut","post_body":"slideUpOut","coll_header":"slideUpOut","sidebar":"slideUpOut"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://tpaaaaaa.github.io/page/8/"/>





  <title>Tian's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/tpaaaaaa.github.io/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Tian's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">对未来真正的慷慨，在于把一切都献给现在.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/tpaaaaaa.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/tpaaaaaa.github.io/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tpaaaaaa.github.io/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/tpaaaaaa.github.io/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Categories
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" target="_blank" rel="noopener" onclick="return false;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/13/1279-GraphColoring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/13/1279-GraphColoring/" itemprop="url">1279 - Graph Coloring</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-13T22:47:27+08:00">
                2019-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://lightoj.com/volume_submit.php?problem=1279" target="_blank" rel="noopener"> </a>  <a href="http://udebug.com/LOJ/1279" target="_blank" rel="noopener"></a></p>
<p><a href="http://lightoj.com/volume_showproblem.php?problem=1279&language=english&type=pdf" target="_blank" rel="noopener">PDF (English)</a></p>
<p><a href="http://lightoj.com/volume_problemstat.php?problem=1279" target="_blank" rel="noopener">Statistics</a></p>
<p><a href="http://lightoj.com/forum_showproblem.php?problem=1279" target="_blank" rel="noopener">Forum</a></p>
<p>Time Limit: 2 second(s)</p>
<p>Memory Limit: 32 MB</p>
<p>Given an undirected graph <strong>G</strong>, you want to color each vertex of the graph using <strong>K</strong> colors. The colors are numbered from <strong>0</strong> to <strong>K-1</strong>. But there is one restriction. Let <strong>v</strong> be any vertex of the graph and <strong>u1, u2 … um</strong> be the adjacent vertices of <strong>v</strong>, then</p>
<p><strong>color(v) = color(u1) + color(u2) + … + color(um) (modulo K)</strong></p>
<p>Now you have to find the number of ways you can color the graph maintaining this restriction.</p>
<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><p>Input starts with an integer <strong>T (**</strong>≤ 200)**, denoting the number of test cases.</p>
<p>Each case starts with a line containing three integers <strong>N</strong>, <strong>M **and</strong> K (1 ≤ N ≤ 100, 2 ≤ K ≤ 109 and K is a prime) <strong>where **N</strong> denotes the number of vertices and <strong>M</strong> denotes the number of edges of the graph.Each of the next <strong>M</strong> lines contains two integers <strong>u v (1 ≤ u, v ≤ N, u ≠ v)</strong> denoting that there is an edge between vertex <strong>u</strong> and <strong>v</strong>. You can safely assume that there is at most one edge between any two vertices.</p>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><p>For each case, print the case number and the result modulo <strong>1000000007</strong>.</p>
<p>Sample Input</p>
<p>Output for Sample Input</p>
<p>26 0 55 4 31 21 32 43 5</p>
<p>Case 1: 1Case 2: 3</p>
<h1 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h1><p>For the second case, let the colors be red (0), green (1) and blue (2). Then the possible results are:</p>
<p><img src="http://lightoj.com/data/problems/desc/1279/a1.png" alt=""></p>
<p><img src="http://lightoj.com/data/problems/desc/1279/a2.png" alt=""></p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>高斯消元法 模线性方程组。一些细节要注意，能做模板。</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-13    15:50:11
By                : Tpaaaaaa
File_Name         ：1279 Graph Coloring.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
高斯消元法解模线性方程组。模板题
用链式前向星保存图
对于每个点他的连接的边，我们可以得到一个方程
他自己的系数为1，其他与他相连的系数为-1，其余为0.
得到n个方程，之后求解.

注意考虑系数是负数！！
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 110;
const int MOD  = 1000000007;
ll a[MAXN][MAXN];
int n, m;
ll k;
ll gcd(ll a, ll b)
{
    if(b == 0)  return a;
    return gcd(b, a%b);
}
ll lcm(ll a, ll b)
{
    return a/gcd(a, b) * b;
}
int Gauss(int equ, int var)
{
    int col = 1, row = 1, max_r;
    for(; col &lt;= var &amp;&amp; row &lt;= equ; col++, row++)
    {
        max_r = row;
        for(int i = row + 1; i &lt;= equ; i++)
            if(abs(a[max_r][col]) &lt; abs(a[i][col]))   max_r = i;
        if(max_r != row)
            for(int i = row; i &lt;= var + 1; i++)
                swap(a[max_r][i], a[row][i]);
        if(a[row][col] == 0)
        {
            row--;
            continue;
        }
        for(int i = row + 1; i &lt;= equ; i++)
        {
            if(a[i][col] != 0)
            {
                ll LCM = lcm(abs(a[row][col]), abs(a[i][col]));
                ll ta = LCM / a[i][col];
                ll tb = LCM / a[row][col];
                for(int j = col; j &lt;= var + 1; j++)
                    a[i][j] = ((a[i][j] * ta - a[row][j] * tb) % k + k) % k; 
            }
        }
    }
    return equ - row + 1;
}
ll qpow(ll a, int b)
{
    ll ret = 1;
    while(b)
    {
        if(b &amp; 1)
            ret = (ret * a) % MOD;
        a = (a * a) % MOD; 
        b &gt;&gt;= 1;
    }
    return ret;
}
int main()
{
    int t;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        memset(a, 0, sizeof a);
        //n点，m边，模k，点的编号从1开始
        scanf(&quot;%d%d%lld&quot;, &amp;n, &amp;m, &amp;k);
        for(int i = 1; i &lt;= n; i++)
            a[i][i] = 1;
        for(int i = 1; i &lt;= m; i++)
        {
            int u, v;
            scanf(&quot;%d%d&quot;, &amp;u, &amp;v);
            a[u][v] = -1;
            a[v][u] = -1;
        }
        //增广矩阵建立完了。
        int free_num = Gauss(n, n);
        ll ans = qpow(k, free_num);
        //传出来的是自由变量的数目
        if(free_num == 0)
            printf(&quot;Case %d: 1\n&quot;, kase);
        else
            printf(&quot;Case %d: %lld\n&quot;, kase, ans);
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1027ADangerousMaze/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1027ADangerousMaze/" itemprop="url">LightOJ - 1027 A Dangerous Maze</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:25:53+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>You are in a maze; seeing <strong>n</strong> doors in front of you in beginning. You can choose any door you like. The probability for choosing a door is equal for all doors.</p>
<p>If you choose the <strong>ith</strong> door, it can either take you back to the same position where you begun in <strong>xi</strong>minutes, or can take you out of the maze after <strong>xi</strong> minutes. If you come back to the same position, you can’t remember anything. So, every time you come to the beginning position, you have no past experience.</p>
<p>Now you want to find the expected time to get out of the maze.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 100)**, denoting the number of test cases.</p>
<p>Each case contains a blank line and an integer <strong>n (1 ≤ n ≤ 100)</strong> denoting the number of doors. The next line contains <strong>n</strong> space separated integers. If the <strong>ith</strong> integer <strong>(xi)</strong> is positive, you can assume that the <strong>ith</strong> door will take you out of maze after <strong>xi</strong> minutes. If it’s negative, then the <strong>ith</strong> door will take you back to the beginning position after <strong>abs(xi)</strong> minutes. You can safely assume that <strong>1 ≤ abs(xi) ≤ 10000</strong>.Output</p>
<p>For each case, print the case number and the expected time to get out of the maze. If it’s impossible to get out of the maze, print <strong>‘inf’</strong>. Print the result in <strong>p/q</strong> format. Where <strong>p</strong> is the numerator of the result and <strong>q</strong> is the denominator of the result and they are relatively prime. See the samples for details.Sample Input</p>
<p>3</p>
<p>1</p>
<p>1</p>
<p>2</p>
<p>-10 -3</p>
<p>3</p>
<p>3 -6 -9Sample Output</p>
<p>Case 1: 1/1</p>
<p>Case 2: inf</p>
<p>Case 3: 18/1</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>水题</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    08:25:38
By                : Tpaaaaaa
File_Name         ：A DangerousMazeLightOJ1027.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
//
设dp[0]为在起点处走出迷宫的期望时间
dp[i] 为在第i个门上走出迷宫的期望时间

if(x[i] &gt; 0)    dp[i] = x[i];
else            dp[i] = -x[i] + dp[0];

得到递推公式
dp[0] = 1/n(dp[1] + dp[2] .... dp[n]);
得到
n*dp[0] = dp[1] + dp[2] ... + dp[n]

化简得到
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 1e2 + 10;
int x;
int gcd(int a, int b)
{
    if(b == 0)  return a;
    else        return gcd(b, a % b);

}
int main()
{
    int t, n;
    int left, right;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d&quot;, &amp;n);
        left = n;
        right = 0;
        for(int i = 1; i &lt;= n; i++)
        {
            scanf(&quot;%d&quot;, &amp;x);
            if(x &lt; 0)
            {
                right -= x;
                left--;
            }
            else
                right += x;
        }
        printf(&quot;Case %d: &quot;, kase);
        if(left == 0)
            printf(&quot;inf\n&quot;);
        else
        {
            int d = gcd(left, right);
            left /= d;
            right /= d;
            printf(&quot;%d/%d\n&quot;, right, left);
        }

    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1030DiscoveringGold/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1030DiscoveringGold/" itemprop="url">LightOJ - 1030 Discovering Gold</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:24:51+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>You are in a cave, a long cave! The cave can be represented by a <strong>1 x N</strong> grid. Each cell of the cave can contain any amount of gold.</p>
<p>Initially you are in position <strong>1</strong>. Now each turn you throw a perfect <strong>6</strong> sided dice. If you get <strong>X</strong> in the dice after throwing, you add <strong>X</strong> to your position and collect all the gold from the new position. If your new position is outside the cave, then you keep throwing again until you get a suitable result. When you reach the <strong>Nth</strong> position you stop your journey. Now you are given the information about the cave, you have to find out the <strong>expected</strong> number of gold you can collect using the given procedure.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 100)**, denoting the number of test cases.</p>
<p>Each case contains a blank line and an integer <strong>N (1 ≤ N ≤ 100)</strong> denoting the dimension of the cave. The next line contains <strong>N</strong> space separated integers. The <strong>ith</strong> integer of this line denotes the amount of gold you will get if you come to the <strong>ith</strong> cell. You may safely assume that all the given integers will be non-negative and no integer will be greater than <strong>1000</strong>.Output</p>
<p>For each case, print the case number and the expected number of gold you will collect. Errors less than <strong>10-6</strong> will be ignored.Sample Input</p>
<p>3</p>
<p>1</p>
<p>101</p>
<p>2</p>
<p>10 3</p>
<p>3</p>
<p>3 6 9Sample Output</p>
<p>Case 1: 101.0000000000</p>
<p>Case 2: 13.000</p>
<p>Case 3: 15</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>水题。</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    08:53:03
By                : Tpaaaaaa
File_Name         ：DiscoveringGoldLightOJ1030.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 1e2 + 10;
int x[MAXN];
double dp[MAXN];
int main()
{
    int t, n;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d&quot;, &amp;n);
        for(int i = 1; i &lt;= n; i++)
            scanf(&quot;%d&quot;, &amp;x[i]);
        for(int i = n; i &gt;= 1; i--)
        {
            dp[i] = x[i];
            int up = min(i + 6, n);
            for(int j = i + 1; j &lt;= up; j++)
                dp[i] += (1.0/(up - i)) * dp[j];
        }
        printf(&quot;Case %d: %.7f\n&quot;, kase, dp[1]);
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1038Raceto1Again/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1038Raceto1Again/" itemprop="url">LightOJ - 1038 Race to 1 Again</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:22:50+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Rimi learned a new thing about integers, which is - any positive integer greater than <strong>1</strong> can be divided by its divisors. So, he is now playing with this property. He selects a number <strong>N</strong>. And he calls this <strong>D</strong>.</p>
<p>In each turn he randomly chooses a divisor of <strong>D</strong> <strong>(1 to D)</strong>. Then he divides <strong>D</strong> by the number to obtain new <strong>D</strong>. He repeats this procedure until <strong>D</strong> becomes <strong>1</strong>. What is the expected number of moves required for <strong>N</strong> to become <strong>1</strong>.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 10000)**, denoting the number of test cases.</p>
<p>Each case begins with an integer <strong>N (1 ≤ N ≤ 105)</strong>.Output</p>
<p>For each case of input you have to print the case number and the expected value. Errors less than <strong>10-6</strong> will be ignored.Sample Input</p>
<p>3</p>
<p>1</p>
<p>2</p>
<p>50</p>
<p>Sample Output</p>
<p>Case 1: 0</p>
<p>Case 2: 2.00</p>
<p>Case 3: 3.0333333333</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>也是水题，</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    09:19:13
By                : Tpaaaaaa
File_Name         ：Raceto1AgainLightOJ1038.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 1e5 + 10;
int divor[MAXN];
double dp[MAXN];
//返回x的因子数目
//6的正约数有 1, 2, 3, 6 四个
//所以返回4，将正约数保存在divor[1..4]中
int getd(int x)
{
    int sum = 0;
    //也可以枚举素数，求他相除只有
    for(int i = 2; i &lt;= (int)sqrt(x); i++)
        if(x % i == 0)
        {
            sum++;
            divor[sum] = i;
            if(x / i != i)
            {
                sum++;
                divor[sum] = x / i;
            }
        }
    sum++;
    divor[sum] = 1;
    sum++;
    divor[sum] = x;
    return sum;
}
void init()
{
    dp[1] = 0;
    for(int i = 2; i &lt; MAXN; i++)
    {
        int sum = getd(i);
        double right = sum;
        double left = sum - 1;
        for(int i = 1; i &lt;= sum; i++)
            right += dp[divor[i]];
        dp[i] = right / left;
    }
}
int main()
{
    init();
    int t, n;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d&quot;, &amp;n);
        printf(&quot;Case %d: %lf\n&quot;, kase, dp[n]);
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1079JustanotherRobbery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1079JustanotherRobbery/" itemprop="url">LightOJ - 1079 Just another Robbery</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:21:50+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>As Harry Potter series is over, Harry has no job. Since he wants to make quick money, (he wants everything quick!) so he decided to rob banks. He wants to make a calculated risk, and grab as much money as possible. But his friends - Hermione and Ron have decided upon a tolerable probability <strong>P</strong> of getting caught. They feel that he is safe enough if the banks he robs together give a probability less than <strong>P</strong>.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 100)**, denoting the number of test cases.</p>
<p>Each case contains a real number <strong>P</strong>, the probability Harry needs to be below, and an integer <strong>N (0 &lt; N ≤ 100)</strong>, the number of banks he has plans for. Then follow <strong>N</strong> lines, where line <strong>j</strong> gives an integer <strong>Mj (0 &lt; Mj ≤ 100)</strong> and a real number <strong>Pj</strong> . Bank <strong>j</strong> contains <strong>Mj</strong> millions, and the probability of getting caught from robbing it is <strong>Pj</strong>. A bank goes bankrupt if it is robbed, and you may assume that all probabilities are independent as the police have very low funds.Output</p>
<p>For each case, print the case number and the maximum number of millions he can expect to get while the probability of getting caught is less than <strong>P</strong>.Sample Input</p>
<p>3</p>
<p>0.04 3</p>
<p>1 0.02</p>
<p>2 0.03</p>
<p>3 0.05</p>
<p>0.06 3</p>
<p>2 0.03</p>
<p>2 0.03</p>
<p>3 0.05</p>
<p>0.10 3</p>
<p>1 0.03</p>
<p>2 0.02</p>
<p>3 0.05Sample Output</p>
<p>Case 1: 2</p>
<p>Case 2: 4</p>
<p>Case 3: 6Note</p>
<p>For the first case, if he wants to rob bank 1 and 2, then the probability of getting caught is <strong>0.02 + (1 - 0.02) * .03 = 0.0494</strong> which is greater than the given probability <strong>(0.04)</strong>. That’s why he has only option, just to rob rank 2.</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>本质是01背包。</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    10:00:11
By                : Tpaaaaaa
File_Name         ：JustanotherRobberyLightOJ1079.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

01背包
dp[i][j] 表示考虑前i个银行，抢j元没被抓的概率

dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - m[i]]*(1 - p[i]));

答案为dp[i][M...1]中M最大的，且dp[i][]大于1-P的

初始状态dp[0][?] = 1;
dp[1][]
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 110;
const int MAXM = 1010;
double dp[MAXN][MAXM], p[MAXN];
int m[MAXN]; ;
int main()
{
    int t, n;
    double P;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        int sum = 0;
        scanf(&quot;%lf%d&quot;, &amp;P, &amp;n);
        P = 1 - P;
        for(int i = 1; i &lt;= n; i++)
        {
            scanf(&quot;%d %lf&quot;, &amp;m[i], &amp;p[i]);
            sum += m[i];
        }
        memset(dp, 0, sizeof dp);
        dp[0][0] = 1;
        for(int i = 1; i &lt;= n; i++)
        {
            for(int j = sum; j &gt;= 0; j--)
                dp[i][j] = max(dp[i - 1][j], dp[i - 1][j - m[i]] * (1 - p[i]));
        }
        int i;
        for(i = sum; i &gt;= 0; i--)
            if(dp[n][i] &gt;= P)
                break;
        printf(&quot;Case %d: %d\n&quot;, kase, i);

    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1104BirthdayParadox/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1104BirthdayParadox/" itemprop="url">LightOJ - 1104 Birthday Paradox</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:20:39+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Sometimes some mathematical results are hard to believe. One of the common problems is the birthday paradox. Suppose you are in a party where there are <strong>23</strong> people including you. What is the probability that at least two people in the party have same birthday? Surprisingly the result is more than <strong>0.5</strong>. Now here you have to do the opposite. You have given the number of days in a year. Remember that you can be in a different planet, for example, in Mars, a year is <strong>669</strong> days long. You have to find the minimum number of people you have to invite in a party such that the probability of at least two people in the party have same birthday is at least <strong>0.5</strong>.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 20000)**, denoting the number of test cases.</p>
<p>Each case contains an integer <strong>n (1 ≤ n ≤ 105)</strong> in a single line, denoting the number of days in a year in the planet.Output</p>
<p>For each case, print the case number and the desired result.Sample Input</p>
<p>2</p>
<p>365</p>
<p>669</p>
<p>Sample Output</p>
<p>Case 1: 22</p>
<p>Case 2: 30</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    10:25:59
By                : Tpaaaaaa
File_Name         ：BirthdayParadoxLightOJ1104.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;

int main()
{
    int t, n;
    double p;   //p为不在同一天生日的概率， 当1 - p 大于 1/2时.
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d&quot;, &amp;n);
        p = 1;
        int i;
        for(i = 2; ; i++)
        {
            p = p * ((n - i + 1)*1.0 / n);
            if(1 - p &gt;= 0.5)
                break;
        }
        printf(&quot;Case %d: %d\n&quot;, kase, i - 1);
    }
    return 0;
}</code></pre><h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>水题。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1248Dice(III)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1248Dice(III)/" itemprop="url">LightOJ - 1248 Dice (III)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:19:28+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Given a dice with <strong>n</strong> sides, you have to find the expected number of times you have to throw that dice to see all its faces at least once. Assume that the dice is fair, that means when you throw the dice, the probability of occurring any face is equal.</p>
<p>For example, for a fair two sided coin, the result is 3. Because when you first throw the coin, you will definitely see a new face. If you throw the coin again, the chance of getting the opposite side is 0.5, and the chance of getting the same side is 0.5. So, the result is</p>
<p>1 + (1 + 0.5 * (1 + 0.5 * …))</p>
<p>= 2 + 0.5 + 0.52 + 0.53 + …</p>
<p>= 2 + 1 = 3Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 100)**, denoting the number of test cases.</p>
<p>Each case starts with a line containing an integer <strong>n (1 ≤ n ≤ 105)</strong>.Output</p>
<p>For each case, print the case number and the expected number of times you have to throw the dice to see all its faces at least once. Errors less than <strong>10-6</strong> will be ignored.Sample Input</p>
<p>5</p>
<p>1</p>
<p>2</p>
<p>3</p>
<p>6</p>
<p>100</p>
<p>Sample Output</p>
<p>Case 1: 1</p>
<p>Case 2: 3</p>
<p>Case 3: 5.5</p>
<p>Case 4: 14.7</p>
<p>Case 5: 518.7377517640</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>水题</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    12:51:32
By                : Tpaaaaaa
File_Name         ：Dice(III)LightOJ-1248.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 1e5 + 10;
double dp;
int main()
{
    int t, n;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d&quot;, &amp;n);
        dp = 0;
        for(int i = n - 1; i &gt;= 0; i--)
            dp = dp + n * 1.0 / (n - i);
        printf(&quot;Case %d: %.7f\n&quot;, kase, dp);
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1151SnakesandLadders/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1151SnakesandLadders/" itemprop="url">LightOJ - 1151 Snakes and Ladders</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:17:45+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>‘Snakes and Ladders’</strong> or <strong>‘Shap-Ludu’</strong> is a game commonly played in Bangladesh. The game is so common that it would be tough to find a person who hasn’t played it. But those who haven’t played it (unlucky of course!) the rules are as follows.</p>
<p><img src="https://vj.z180.cn/dd2c24784595e0af1970b1361ea5ce20?v=1570737468" alt=""></p>
<ol>
<li><p>There is a <strong>10 x 10</strong> board containing some cells numbered from <strong>1</strong> to <strong>100</strong>.</p>
</li>
<li><p>You start at position 1.</p>
</li>
<li><p>Each time you throw a perfect dice containing numbers <strong>1</strong> to <strong>6</strong>.</p>
</li>
<li><p>There are some snakes and some ladders in the board. Ladders will take you up from one cell to another. Snakes will take you down.</p>
</li>
<li><p>If you reach a cell that contains the bottom part of a ladder, you will immediately move to the cell which contains the upper side of that ladder. Similarly if you reach a cell that has a snake-head you immediately go down to the cell where the tail of that snake ends.</p>
</li>
<li><p>The board is designed so that from any cell you can jump at most once. (For example there is a snake from 62 to 19, assume that another is from 19 to 2. So, if you reach 62, you will first jump to 19, you will jump to 2. These kinds of cases will not be given)</p>
</li>
<li><p>There is no snake head in the 100-th cell and no ladder (bottom part) in the first cell.</p>
</li>
<li><p>If you reach cell 100, the game ends. But if you have to go outside the board in any time your move will be lost. That means you will not take that move and you have to throw the dice again.</p>
</li>
</ol>
<p>Now given a board, you have to find the expected number of times you need to throw the dice to win the game. The cases will be given such that a result will be found.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 105)**, denoting the number of test cases.</p>
<p>The first line of a case is a blank line. The next line gives you an integer <strong>n</strong> denoting the number of snakes and ladders. Each of the next <strong>n</strong> lines contain two integers <strong>a</strong> and <strong>b (1 ≤ a, b ≤ 100, a ≠ b)</strong>. If <strong>a &lt; b</strong>, it means that there is a ladder which takes you from <strong>a</strong> to <strong>b</strong>. If <strong>a &gt; b</strong>, it means that there is a snake which takes you from <strong>a</strong> to <strong>b</strong>. Assume that the given board follows the above restrictions.Output</p>
<p>For each case of input, print the case number and the expected number of times you need to throw the dice. Errors less than <strong>10-6</strong> will be ignored.Sample Input</p>
<p>2</p>
<p>14</p>
<p>4 42</p>
<p>9 30</p>
<p>16 8</p>
<p>14 77</p>
<p>32 12</p>
<p>37 58</p>
<p>47 26</p>
<p>48 73</p>
<p>62 19</p>
<p>70 89</p>
<p>71 67</p>
<p>80 98</p>
<p>87 24</p>
<p>96 76</p>
<p>0Sample Output</p>
<p>Case 1: 31.54880806</p>
<p>Case 2: 33.0476190476</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>我们一般逆推是不会出现环的…但这题目出现了，就解锁了新知识——用高斯消元法解。</p>
<p>自己好好构造好增广矩阵，然后再在模板里面改改就行。</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    10:53:41
By                : Tpaaaaaa
File_Name         ：SnakesandLaddersLightOJ1151.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
概率dp + 高斯消元法
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 110;
int tp[MAXN];
double x[MAXN];
double a[MAXN][MAXN];          //增广矩阵
inline int gcd(int a,int b)
{
    int t;
    while(b!=0)
    {
        t=b;
        b=a%b;
        a=t;
    }
    return a;
}
inline int lcm(int a,int b)
{
    return a/gcd(a,b)*b;//先除后乘防溢出
}

int Gauss(int equ,int var)
{
    int i,j,k;
    int max_r;// 当前这列绝对值最大的行.
    int col;//当前处理的列
    int ta,tb;
    int LCM;
    double temp;
    int free_x_num;
    int free_index;

    for(int i=0;i&lt;=var;i++)
    {
        x[i]=0;
    }

    //转换为阶梯阵.
    col=0; // 当前处理的列
    for(k = 0;k &lt; equ &amp;&amp; col &lt; var;k++,col++)
    {// 枚举当前处理的行.
// 找到该col列元素绝对值最大的那行与第k行交换.(为了在除法时减小误差)
        max_r=k;
        for(i=k+1;i&lt;equ;i++)
        {
            if(abs(a[i][col])&gt;abs(a[max_r][col])) max_r=i;
        }
        if(max_r!=k)
        {// 与第k行交换.
            for(j=k;j&lt;var+1;j++) swap(a[k][j],a[max_r][j]);
        }
        if(fabs(a[k][col]) &lt; eps)
        {// 说明该col列第k行以下全是0了，则处理当前行的下一列.
            k--;
            continue;
        }
        for(i=k+1;i&lt;equ;i++)
        {// 枚举要删去的行.
            if(fabs(a[i][col]) &gt; eps)
            {
                double temp = a[i][col] / a[k][col];
                for(int j = col; j &lt;= var; j++)
                    a[i][j] -= a[k][j] * temp;
            }
        }
    }
    for (i = var - 1; i &gt;= 0; i--)
    {
        temp = a[i][var];
        for (j = i + 1; j &lt; var; j++)
        {
            if (a[i][j] != 0) temp -= a[i][j] * x[j];
        }
        x[i] = temp / a[i][i];
    }
    return 0;
}
int main()
{
    int t, n;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        memset(tp, 0, sizeof tp);
        memset(a, 0, sizeof a);
        scanf(&quot;%d&quot; ,&amp;n);
        for(int i = 1; i &lt;= n; i++)
        {
            int a, b;
            scanf(&quot;%d%d&quot;, &amp;a, &amp;b);
            tp[a] = b;
        }
        //100个方程
        for(int i = 0; i &lt; 99; i++)
        {
            if(tp[i + 1]) // 有tp
            {
                a[i][i] = 1;
                a[i][tp[i + 1] - 1] = -1;
                a[i][100] = 0;
            }   
            else        //没有tp
            {
                int k = 100 - i - 1;
                //说明2
                if(k &gt; 6)
                {
                    a[i][i] = 6;
                    a[i][100] = 6;
                    for(int j = 1; j &lt;= 6; j++)
                        a[i][i + j] = -1;
                }
                else//说明3，只能扔1,2,...,k, 余下的6 - k 为dp[i]
                {
                    a[i][i] = k;
                    a[i][100] = 6;
                    for(int j = 1; j &lt;= k; j++)
                        a[i][i + j] = -1;
                }
            }
        }
        a[99][100] = 0;
        a[99][99] = 1;
        int free_num = Gauss(100, 100);
        printf(&quot;Case %d: %.7f\n&quot;,kase, x[0]);
    }   
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1317ThrowingBallsintotheBaskets/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1317ThrowingBallsintotheBaskets/" itemprop="url">LightOJ - 1317 Throwing Balls into the Baskets</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:14:59+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>You probably have played the game “<strong>Throwing Balls into the Basket</strong>“. It is a simple game. You have to throw a ball into a basket from a certain distance. One day we (the AIUB ACMMER) were playing the game. But it was slightly different from the main game. In our game we were <strong>N</strong> people trying to throw balls into <strong>M *<em>identical Baskets. At each turn we all were selecting a basket and trying to throw a ball into it. After the game we saw exactly *</em>S</strong> balls were successful. Now you will be given the value of <strong>N *<em>and *</em>M</strong>. For each player probability of throwing a ball into any basket successfully is <strong>P</strong>. Assume that there are infinitely many balls and the probability of choosing a basket by any player is *<em>1/M. *</em>If multiple people choose a common basket and throw their ball, you can assume that their balls will not conflict, and the probability remains same for getting inside a basket. You have to find the expected number of balls entered into the baskets after *<em>K *</em>turns.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 100)**, denoting the number of test cases.</p>
<p>Each case starts with a line containing three integers <strong>N (1 ≤ N ≤ 16), M (1 ≤ M ≤ 100) **and</strong> K (0 ≤ K ≤ 100)** and a real number <strong>P (0 **</strong>≤<strong>** P **</strong>≤ 1<strong>**)</strong>. <strong>P</strong> contains at most three places after the decimal point.Output</p>
<p>For each case, print the case number and the expected number of balls. Errors less than <strong>10-6</strong> will be ignored.Sample Input</p>
<p>2</p>
<p>1 1 1 0.5</p>
<p>1 1 2 0.5</p>
<p>Sample Output</p>
<p>Case 1: 0.5</p>
<p>Case 2: 1.000000</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>憨憨题目。</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    17:54:19
By                : Tpaaaaaa
File_Name         ：ThrowingBallsintotheBasketsLightOJ1317.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
憨批水题.
但是帮你理清了一下期望和概率的关系
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;

int main()
{
    int t, n, m, k;
    double p;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d%d%d%lf&quot;, &amp;n, &amp;m, &amp;k, &amp;p);
        printf(&quot;Case %d: %.7f\n&quot;, kase, n * p * k);
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1364ExpectedCards/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1364ExpectedCards/" itemprop="url">LightOJ - 1364 Expected Cards</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:13:52+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Taha has got a standard deck of cards with him. In addition to the 52 regular ones, there are 2 joker cards. Every regular card has a rank and a suit. The ranks in ascending order are: <strong>A, 2, 3, 4, 5, 6, 7, 8, 9, T, J, Q</strong> and <strong>K</strong>. The suit of a card can be <strong>clubs, diamonds, hearts</strong> or <strong>spades</strong>. That means there are 13 <strong>clubs</strong>, 13 <strong>diamonds</strong>, 13 <strong>hearts</strong> and 13 <strong>spades</strong> - which adds up to 52. The joker cards have no ranks or suits.</p>
<p>One day, Sara gave Taha a challenge. First she randomly shuffles the 54 cards and starts placing one card after another, face-up, on a table. What is the expected number of cards Sara has to place so that there are at least <strong>C</strong> <strong>clubs</strong>, <strong>D</strong> <strong>diamonds,</strong> <strong>H</strong> <strong>hearts</strong> and <strong>S</strong> <strong>spades</strong> on the table? Whenever a joker card is encountered, Taha has to assign it to some suit so that the expected number of cards to reach the goal is minimized. The decision of assigning the joker card to some suit has to be made instantly (i.e. before Sara puts the next card on the table). Note that the assignments of the two joker cards don’t necessarily need to be the same.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 10)**, denoting the number of test cases.</p>
<p>Each case starts with a line containing four integers in the order <strong>C</strong>, <strong>D</strong>, <strong>H</strong> and <strong>S</strong>. Each of these integers will be in the range <strong>[0, 15]</strong>.Output</p>
<p>For each case, print the case number first. Then output the expected number of cards Sara needs to place on the table to achieve the goal. If it’s impossible to reach the goal, irrespective of what assignments Sara opts for, output <strong>‘-1’</strong> (without the quotes) instead. Errors less than <strong>10-6</strong> will be ignored.Sample Input</p>
<p>4</p>
<p>0 0 0 0</p>
<p>15 13 13 13</p>
<p>1 2 3 4</p>
<p>15 15 15 15</p>
<p>Sample Output</p>
<p>Case 1: 0</p>
<p>Case 2: 54</p>
<p>Case 3: 16.3928186102</p>
<p>Case 4: -1</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p><strong>求期望一般逆推。所以可以结合记忆化搜索，将逆推的已知项变成搜索的递归终点即可.</strong></p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    19:09:18
By                : Tpaaaaaa
File_Name         ：ExpectedCardsLightOJ-1364.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
好恶心呀
配合记忆化搜索.
搜索的边界dp[C][D][H][S][0][0] = 0;
dp[C - 1][D][H][S][1][0] = 0.....等等情况
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;
double dp[20][20][20][20][5][5];
bool vis[20][20][20][20][5][5];
int exs[5];
int C, D, H, S;
bool Noway()
{
    int num = 0;            //记录需要的joker的数目，如果超过2两个，-1
    if(C &gt; 13)  num += C - 13;
    if(D &gt; 13)  num += D - 13;
    if(H &gt; 13)  num += H - 13;
    if(S &gt; 13)  num += S - 13;
    if(num &gt; 2) return true;
    return false;
}
double dfs(int a, int b, int c, int d, int i, int j)
{
    if(vis[a][b][c][d][i][j])   return dp[a][b][c][d][i][j];
    vis[a][b][c][d][i][j] = true;
    int ret = 52 - a - b - c - d;   //ret表示剩余的牌的数目
    if(!i)  ret++; if(!j) ret++;    //joker还留着的情况
    exs[1] = a; exs[2] = b; exs[3] = c; exs[4] = d; //四个花色的已经存在的数目
    exs[i]++; exs[j]++;
    if(exs[1] &gt;= C &amp;&amp; exs[2] &gt;= D &amp;&amp; exs[3] &gt;= H &amp;&amp; exs[4] &gt;= S)
        return dp[a][b][c][d][i][j] = 0;
    //递归出口设置完了
    double p[5];    //选中四个花色的概率
    double ans = 1;
    p[1] = (13 - a) * 1.0 / ret; p[2] = (13 - b) * 1.0 / ret;
    p[3] = (13 - c) * 1.0 / ret; p[4] = (13 - d) * 1.0 / ret;
    if(13 - a &gt; 0)
    ans += p[1] * dfs(a + 1, b, c, d, i, j);
    if(13 - b &gt; 0)
    ans += p[2] * dfs(a, b + 1, c, d, i, j);
    if(13 - c &gt; 0)
    ans += p[3] * dfs(a, b, c + 1, d, i, j);
    if(13 - d &gt; 0)
    ans += p[4] * dfs(a, b, c, d + 1, i, j);
    //抽中四个花色的期望，接下来是抽中两个joker
    if(i == 0)
    {
        double temp = (double)INF;
        for(int k = 1; k &lt;= 4; k++)
            temp = min(temp, dfs(a, b, c, d, k, j));
        ans += temp * 1.0 / ret;
    }
    if(j == 0)
    {
        double temp = (double)INF;
        for(int k = 1; k &lt;= 4; k++)
            temp = min(temp, dfs(a, b, c, d, i, k));
        ans += temp * 1.0 / ret;
    }
    return dp[a][b][c][d][i][j] = ans;
}
int main()
{
    int t;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        memset(vis, false, sizeof vis);
        scanf(&quot;%d%d%d%d&quot;, &amp;C, &amp;D, &amp;H, &amp;S);
        if(Noway())                         //根据初始条件判断有没有解
            printf(&quot;Case %d: -1\n&quot;, kase);
        else
        {
            double ans = dfs(0, 0, 0, 0, 0, 0);
            printf(&quot;Case %d: %.7f\n&quot;, kase, ans);
        }
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
 <nav class="pagination">
   <a class="extend prev" rel="prev" href="/tpaaaaaa.github.io/page/7/"><i class="fa fa-angle-left" aria-label="accessibility.prev_page"></i></a><a class="page-number" href="/tpaaaaaa.github.io/">1</a><span class="space">&hellip;</span><a class="page-number" href="/tpaaaaaa.github.io/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/tpaaaaaa.github.io/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/tpaaaaaa.github.io/page/25/">25</a><a class="extend next" rel="next" href="/tpaaaaaa.github.io/page/9/"><i class="fa fa-angle-right" aria-label="accessibility.next_page"></i></a>
 </nav>

          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/tpaaaaaa.github.io/images/avatar.gif"
                alt="我玩维恩不学q" />
            
              <p class="site-author-name" itemprop="name">我玩维恩不学q</p>
              <p class="site-description motion-element" itemprop="description">个人blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/tpaaaaaa.github.io/archives">
              
                  <span class="site-state-item-count">246</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/tpaaaaaa.github.io/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tpaaaaaa.github.io/tags/index.html">
                  <span class="site-state-item-count">115</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">我玩维恩不学q</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/tpaaaaaa.github.io/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
