<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/tpaaaaaa.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/tpaaaaaa.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/tpaaaaaa.github.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/tpaaaaaa.github.io/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/tpaaaaaa.github.io/images/favicon.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/tpaaaaaa.github.io/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/tpaaaaaa.github.io/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="个人blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Tian&#39;s Blog">
<meta property="og:url" content="https:&#x2F;&#x2F;tpaaaaaa.github.io&#x2F;page&#x2F;7&#x2F;index.html">
<meta property="og:site_name" content="Tian&#39;s Blog">
<meta property="og:description" content="个人blog">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/tpaaaaaa.github.io/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://tpaaaaaa.github.io/page/7/"/>





  <title>Tian's Blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/tpaaaaaa.github.io/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Tian's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">对未来真正的慷慨，在于把一切都献给现在.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/tpaaaaaa.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/tpaaaaaa.github.io/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tpaaaaaa.github.io/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/tpaaaaaa.github.io/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            Categories
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" target="_blank" rel="noopener" onclick="return false;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/14/1142-SummingupPowers(II)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/14/1142-SummingupPowers(II)/" itemprop="url">1142 - Summing up Powers (II)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-14T22:44:52+08:00">
                2019-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Shanto is learning how to power up numbers and he found an efficient way to find <strong>kth</strong> power of a matrix. He was quite happy with his discovery. Suddenly his sister Natasha came to him and asked him to find the summation of the powers. To be specific his sister gave the following problem.</p>
<p>Let <strong>A</strong> be an <strong>n x n</strong> matrix. We define <strong>Ak = A * A * … * A (k times)</strong>. Here, <strong>*** denotes the usual matrix multiplication. You are to write a program that computes the matrix **A + A2 + A3 + … + Ak</strong>.</p>
<p>Shanto smiled and thought that it would be an easy one. But after a while he found that it’s tough for him. Can you help him?Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 20)**, denoting the number of test cases.</p>
<p>Each case starts with two integers <strong>n (1 ≤ n ≤ 30)</strong> and <strong>k (1 ≤ k ≤ 109)</strong>. Each of the next <strong>n</strong> lines will contain <strong>n</strong> non-negative integers (not greater than <strong>10</strong>).Output</p>
<p>For each case, print the case number and the result matrix. For each cell, just print the last digit. See the samples for more details.Sample Input</p>
<p>2</p>
<p>3 2</p>
<p>1 4 6</p>
<p>6 5 2</p>
<p>1 2 3</p>
<p>3 10</p>
<p>1 4 6</p>
<p>6 5 2</p>
<p>1 2 3Sample Output</p>
<p>Case 1:</p>
<p>208</p>
<p>484</p>
<p>722</p>
<p>Case 2:</p>
<p>868</p>
<p>620</p>
<p>546</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>我们设 <strong>F(k) =</strong> <strong>A + A2 + A3 + … + Ak</strong>. (A 无论是数还是矩阵)</p>
<p>都可以考虑一个巧妙的矩阵来加速运算.</p>
<p>A A</p>
<p>0 E</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-14    20:54:36
By                : Tpaaaaaa
File_Name         ：LightOJ1142SummingupPowers(2).cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 35;
int n, k;
int siz;           //矩阵的大小.
const int MOD = 10;           //矩阵快速幂的模数.
struct Mat//定义矩阵  
{  
    int mat[70][70];  
    void init()                //初始化为一个单位阵
    {  
        memset(mat, 0, sizeof(mat));  
        for(int i = 0; i &lt; siz; i++)
             mat[i][i] = 1;
     }   
};  
Mat mul(Mat a,Mat b)//矩阵乘法   
{  
    Mat ans;  
    ans.init();  
    for(int i = 0; i &lt; siz; i++)  
    {  
        for(int j = 0; j &lt; siz; j++)  
        {  
            ans.mat[i][j] = 0;  
            for(int k = 0; k &lt; siz; k++)  
                ans.mat[i][j] += a.mat[i][k] * b.mat[k][j];  
            ans.mat[i][j] %= MOD;  
        }  
    }  
    return ans;  
}  
Mat power(Mat a,int num)//矩阵快速幂模板   
{  
    Mat ans;  
    ans.init();  
    while(num)  
    {  
        if(num &amp; 1)  
            ans = mul(ans, a);
        num &gt;&gt;= 1;  
        a = mul(a, a);  
    }  
    return ans;  
} 
int main()
{
    int t;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d%d&quot;, &amp;n, &amp;k);
        Mat p;
        memset(p.mat, 0, sizeof p.mat);
        for(int i = 0; i &lt; n; i++)
        {   
            for(int j = 0; j &lt; n; j++)
            {
                scanf(&quot;%d&quot;, &amp;p.mat[i][j]);
                p.mat[i][j + n] = p.mat[i][j];
            }
            p.mat[i + n][i + n] = 1;
        }

        siz = 2 * n;
        p = power(p, k);
        printf(&quot;Case %d:\n&quot;, kase);
        for(int i = 0; i &lt; n; i++)
        {
            for(int j = 0; j &lt; n; j++)
                printf(&quot;%d&quot;, p.mat[i][j + n]);

            printf(&quot;\n&quot;);
        }

    }   
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/14/1132-SummingupPowers/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/14/1132-SummingupPowers/" itemprop="url">1132 - Summing up Powers</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-14T22:37:43+08:00">
                2019-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Given <strong>N</strong> and <strong>K</strong>, you have to find</p>
<p><strong>(1K + 2K + 3K + … + NK) % 232</strong>Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 200)**, denoting the number of test cases.</p>
<p>Each case contains two integers <strong>N (1 ≤ N ≤ 1015)</strong> and <strong>K (0 ≤ K ≤ 50)</strong> in a single line.Output</p>
<p>For each case, print the case number and the result.Sample Input</p>
<p>3</p>
<p>3 1</p>
<p>4 2</p>
<p>3 3</p>
<p>Sample Output</p>
<p>Case 1: 6</p>
<p>Case 2: 30</p>
<p>Case 3: 36</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>模<strong>232</strong> 可以用usigned int 实现</p>
<p>组合数可以提前打表</p>
<pre><code>//组合数打表模板,适用于N&lt;=3000
//c[i][j]表示从i个中选j个的选法。
long long C[N][N];

void get_C(int maxn)
{
    C[0][0] = 1;
    for(int i = 1; i &lt;= maxn; i++)
    {
        C[i][0] = 1;
        for(int j = 1; j &lt;= i; j++)
            C[i][j] = C[i-1][j] + C[i-1][j-1];
        //C[i][j] = (C[i-1][j] + C[i-1][j-1]) % MOD;
    }
}</code></pre><h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-14    13:05:53
By                : Tpaaaaaa
File_Name         ：1132SummingupPowers.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
上一题是将两个递推式合在一起
现在是将k个递推式子和在一起

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned int uint;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;
const int MAXK = 70;
uint C[MAXK][MAXK];
ll n;
int k;
// 返回C(a, b);
//a b 都小于50
//这是什么初始化操作...
void init()
{
    C[0][0] = 1;
    for(int i = 1; i &lt; MAXK; i++)
    {
        C[i][0] = 1;
        for(int j = 1; j &lt;= i; j++)
            C[i][j] = C[i - 1][j - 1] + C[i - 1][j];
    }
}
int siz;           //矩阵的大小.
struct Mat//定义矩阵  
{  
    uint mat[MAXK][MAXK];  
    void init()                //初始化为一个单位阵
    {  
        memset(mat, 0, sizeof(mat));  
        for(int i = 0; i &lt; siz; i++)
             mat[i][i] = 1;
     }   
};  
Mat mul(Mat a,Mat b, int siz)//矩阵乘法   
{  
    Mat ans;  
    ans.init();
    for(int i = 0; i &lt; siz; i++)  
    {  
        for(int j = 0; j &lt; siz; j++)  
        {  
            ans.mat[i][j] = 0;  
            for(int k = 0; k &lt; siz; k++)  
                ans.mat[i][j] += a.mat[i][k] * b.mat[k][j];  
           // ans.mat[i][j] %= MOD;  
        }  
    }  
    return ans;  
}  
Mat power(Mat a, ll num, int siz)//矩阵快速幂模板   
{  
    Mat ans;  
    ans.init();  
    while(num)  
    {  
        if(num &amp; 1)  
            ans = mul(ans, a, siz);
        num &gt;&gt;= 1;  
        a = mul(a, a, siz);  
    }  
    return ans;  
} 
int main()
{
    fileopen;
    int t;
    init();
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%lld%d&quot;, &amp;n, &amp;k);
        Mat p;
        memset(p.mat, 0, sizeof p.mat);
        siz = k + 2;
        for(int i = 0; i &lt; k + 2; i++)
        {

            if(i == k + 1)
            {
                p.mat[i][0] = 1;
                p.mat[i][i] = 1;
            }
            else
            {
                for(int j = i; j &lt; k + 1; j++)
                    p.mat[i][j] = C[k - i][j - i];
            }
        }
        p = power(p, n, siz);
        uint ans = 0;
        for(int i = 0; i &lt; k + 1; i++)
            ans += p.mat[k + 1][i];
        printf(&quot;Case %d: %u\n&quot;, kase, ans);
    }
    return 0;
    fileclose;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/14/LightOJ-1131JustTwoFunctions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/14/LightOJ-1131JustTwoFunctions/" itemprop="url">LightOJ - 1131 Just Two Functions</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-14T22:30:47+08:00">
                2019-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Let</p>
<p><strong>fn = a1 * fn-1 + b1 * fn-2 + c1 * gn-3</strong></p>
<p><strong>gn = a2 * gn-1 + b2 * gn-2 + c2 * fn-3</strong></p>
<p>Find <strong>fn % M</strong> and <strong>gn % M</strong>. (<strong>%</strong> stands for the modulo operation.)Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 50)**, denoting the number of test cases.</p>
<p>Each case starts with a blank line. Next line contains three integers <strong>a1 b1 c1 (0 ≤ a1, b1, c1 &lt; 25000)</strong>. Next line contains three integers <strong>a2 b2 c2 (0 ≤ a2, b2, c2 &lt; 25000)</strong>. Next line contains three integers <strong>f0 f1 f2 (0 ≤ f0, f1, f2 &lt; 25000)</strong>. Next line contains three integers <strong>g0 g1 g2 (0 ≤ g0, g1, g2 &lt; 25000)</strong>. The next line contains an integer <strong>M (1 ≤ M &lt; 25000)</strong>.</p>
<p>Next line contains an integer <strong>q (1 ≤ q ≤ 100)</strong> denoting the number of queries. Next line contains <strong>q</strong>space separated integers denoting <strong>n</strong>. Each of these integers is non-negative and less than 231.Output</p>
<p>For each case, print the case number in a line. Then for each query, you have to print one line containing <strong>fn % M</strong> and <strong>gn % M</strong>.Sample Input</p>
<p>2</p>
<p>1 1 0</p>
<p>0 0 0</p>
<p>0 1 1</p>
<p>0 0 0</p>
<p>20000</p>
<p>10</p>
<p>1 2 3 4 5 6 7 8 9 10</p>
<p>1 1 1</p>
<p>1 1 1</p>
<p>2 2 2</p>
<p>2 2 2</p>
<p>20000</p>
<p>5</p>
<p>2 4 6 8 10Sample Output</p>
<p>Case 1:</p>
<p>1 0</p>
<p>1 0</p>
<p>2 0</p>
<p>3 0</p>
<p>5 0</p>
<p>8 0</p>
<p>13 0</p>
<p>21 0</p>
<p>34 0</p>
<p>55 0</p>
<p>Case 2:</p>
<p>2 2</p>
<p>10 10</p>
<p>34 34</p>
<p>114 114</p>
<p>386 386</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>两个递推式放在一个矩阵上面求。</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-14    11:17:47
By                : Tpaaaaaa
File_Name         ：1131JustTwoFunctions.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;
int a1, b1, c1, a2, b2, c2, f0, f1, f2, g0, g1, g2, MOD;
const int siz = 6;           //矩阵的大小.
struct Mat//定义矩阵  
{  
    int mat[siz][siz];  
    void init()                //初始化为一个单位阵
    {  
        memset(mat, 0, sizeof(mat));  
        for(int i = 0; i &lt; siz; i++)
             mat[i][i] = 1;
     }   
}p, pp;  
Mat mul(Mat a,Mat b)//矩阵乘法   
{  
    Mat ans;  
    ans.init();  
    for(int i = 0; i &lt; siz; i++)  
    {  
        for(int j = 0; j &lt; siz; j++)  
        {  
            ans.mat[i][j] = 0;  
            for(int k = 0; k &lt; siz; k++)  
                ans.mat[i][j] += a.mat[i][k] * b.mat[k][j];  
            ans.mat[i][j] %= MOD;  
        }  
    }  
    return ans;  
}  
Mat power(Mat a,int num)//矩阵快速幂模板   
{  
    Mat ans;  
    ans.init();  
    while(num)  
    {  
        if(num &amp; 1)  
            ans = mul(ans, a);
        num &gt;&gt;= 1;  
        a = mul(a, a);  
    }  
    return ans;  
} 
int main()
{
    int t, q;
    fileopen;
    cin &gt;&gt;t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        memset(p.mat, 0, sizeof p.mat);
        scanf(&quot;%d%d%d&quot;, &amp;a1, &amp;b1, &amp;c1);
        scanf(&quot;%d%d%d&quot;, &amp;a2, &amp;b2, &amp;c2);
        scanf(&quot;%d%d%d&quot;, &amp;f0, &amp;f1, &amp;f2);
        scanf(&quot;%d%d%d&quot;, &amp;g0, &amp;g1, &amp;g2);
        p.mat[0][0] = a1; p.mat[0][2] = b1; p.mat[0][5] = c1;
        p.mat[1][1] = a2; p.mat[1][3] = b2; p.mat[1][4] = c2;
        p.mat[2][0] = 1;
        p.mat[3][1] = 1;
        p.mat[4][2] = 1;
        p.mat[5][3] = 1;
        scanf(&quot;%d&quot;, &amp;MOD);
        scanf(&quot;%d&quot;, &amp;q);
        printf(&quot;Case %d:\n&quot;, kase);
        for(int i = 1; i &lt;= q; i++)
        {
            int n;
            scanf(&quot;%d&quot;, &amp;n);
            if(n &lt;= 2)
            {
                int f = -1, g = -1;
                if(n == 0)  f = f0, g = g0;
                else if(n == 1) f = f1, g = g1;
                else if(n == 2) f = f2, g = g2;
                printf(&quot;%d %d\n&quot;, f % MOD, g % MOD);
            }
            else
            {
                pp = power(p, n - 2);
                int f = pp.mat[0][0] * f2 % MOD + pp.mat[0][1] * g2 % MOD + pp.mat[0][2] * f1 % MOD + pp.mat[0][3] * g1 % MOD + pp.mat[0][4] * f0 % MOD + pp.mat[0][5] * g0 % MOD;
                int g = pp.mat[1][0] * f2 % MOD + pp.mat[1][1] * g2 % MOD + pp.mat[1][2] * f1 % MOD + pp.mat[1][3] * g1 % MOD + pp.mat[1][4] * f0 % MOD + pp.mat[1][5] * g0 % MOD;
                printf(&quot;%d %d\n&quot;, f % MOD, g % MOD);
            }
        }
    }
    fileclose;
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/14/1070-AlgebraicProblem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/14/1070-AlgebraicProblem/" itemprop="url">1070 - Algebraic Problem</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-14T22:28:20+08:00">
                2019-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://lightoj.com/volume_submit.php?problem=1070" target="_blank" rel="noopener"> </a>  <a href="http://udebug.com/LOJ/1070" target="_blank" rel="noopener"></a></p>
<p><a href="http://lightoj.com/volume_showproblem.php?problem=1070&language=english&type=pdf" target="_blank" rel="noopener">PDF (English)</a></p>
<p><a href="http://lightoj.com/volume_problemstat.php?problem=1070" target="_blank" rel="noopener">Statistics</a></p>
<p><a href="http://lightoj.com/forum_showproblem.php?problem=1070" target="_blank" rel="noopener">Forum</a></p>
<p>Time Limit: 2 second(s)</p>
<p>Memory Limit: 32 MB</p>
<p>Given the value of <strong>a+b</strong> and <strong>ab</strong> you will have to find the value of <strong>an+bn</strong>. <strong>a</strong> and <strong>b</strong> not necessarily have to be real numbers.</p>
<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><p>Input starts with an integer <strong>T (**</strong>≤ 10000)**, denoting the number of test cases.</p>
<p>Each case contains three non-negative integers, <strong>p, q</strong> and <strong>n</strong>. Here <strong>p</strong> denotes the value of <strong>a+b</strong> and <strong>q</strong> denotes the value of <strong>ab</strong>. Each number in the input file fits in a signed 32-bit integer. There will be no such input so that you have to find the value of <strong>00</strong>.</p>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><p>For each test case, print the case number and <strong>(an+bn)</strong> modulo <strong>264</strong>.</p>
<p>Sample Input</p>
<p>Output for Sample Input</p>
<p>210 16 27 12 3</p>
<p>Case 1: 68Case 2: 91</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>模2^64 和 模2^32 可以用usigned long long 和 usigned int 实现。</p>
<p>其次就是关于 <strong>f(n) = (an+bn)</strong> 的递推方程。</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-14    10:55:08
By                : Tpaaaaaa
File_Name         ：1070AlgebraicProblem.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
学到一个新的递推公式
是关于f(n) = x^n + y^n次方的递推公式
//取模2^64，unsigned long long！！
//取模2^64，unsigned long long！！
//取模2^64，unsigned long long！！
注意矩阵快速幂的时候，要注意幂为0等特殊情况要特判一下。
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;
const int siz = 2;           //矩阵的大小.
//取模2^64，unsigned long long！！
struct Mat//定义矩阵  
{  
    ull mat[siz][siz];  
    void init()                //初始化为一个单位阵
    {  
        memset(mat, 0, sizeof(mat));  
        for(int i = 0; i &lt; siz; i++)
             mat[i][i] = 1;
     }   
};  
Mat mul(Mat a,Mat b)//矩阵乘法   
{  
    Mat ans;  
    ans.init();  
    for(int i = 0; i &lt; siz; i++)  
    {  
        for(int j = 0; j &lt; siz; j++)  
        {  
            ans.mat[i][j] = 0;  
            for(int k = 0; k &lt; siz; k++)  
                ans.mat[i][j] += a.mat[i][k] * b.mat[k][j];
        }  
    }  
    return ans;  
}  
Mat power(Mat a,int num)//矩阵快速幂模板   
{  
    Mat ans;  
    ans.init();  
    while(num)  
    {  
        if(num &amp; 1)  
            ans = mul(ans, a);
        num &gt;&gt;= 1;  
        a = mul(a, a);  
    }  
    return ans;  
} 
int main()
{
    ull p, q, n;
    int t;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%llu%llu%llu&quot;, &amp;p, &amp;q, &amp;n);
        if(n == 0)
            printf(&quot;Case %d: 2\n&quot;, kase);
        else if(n == 1)
            printf(&quot;Case %d: %llu\n&quot;, kase, p);
        else
        {
            Mat m;
            m.mat[0][0] = p;
            m.mat[0][1] = -q;
            m.mat[1][0] = 1;
            m.mat[1][1] = 0;
            m = power(m, n - 1);
            ull ans = m.mat[0][0] * p + m.mat[0][1] * 2;
            printf(&quot;Case %d: %llu\n&quot;, kase, ans);
        }

    }

    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/14/1065-NumberSequence/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/14/1065-NumberSequence/" itemprop="url">1065 - Number Sequence</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-14T22:02:08+08:00">
                2019-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Let’s define another number sequence, given by the following function:</p>
<p><strong>f(0) = a</strong></p>
<p><strong>f(1) = b</strong></p>
<p><strong>f(n) = f(n-1) + f(n-2), n &gt; 1</strong></p>
<p>When <strong>a = 0</strong> and <strong>b = 1</strong>, this sequence gives the Fibonacci sequence. Changing the values of <strong>a</strong> and <strong>b</strong>, you can get many different sequences. Given the values of <strong>a, b</strong>, you have to find the last <strong>m</strong>digits of <strong>f(n)</strong>.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 10000)**, denoting the number of test cases.</p>
<p>Each test case consists of a single line containing four integers <strong>a b n m</strong>. The values of <strong>a</strong> and <strong>b</strong>range in <strong>[0,100]</strong>, value of <strong>n</strong> ranges in <strong>[0, 109]</strong> and value of <strong>m</strong> ranges in <strong>[1, 4]</strong>.Output</p>
<p>For each case, print the case number and the last <strong>m</strong> digits of <strong>f(n)</strong>. However, do <strong>NOT</strong> print any leading zero.Sample Input</p>
<p>4</p>
<p>0 1 11 3</p>
<p>0 1 42 4</p>
<p>0 1 22 4</p>
<p>0 1 21 4</p>
<p>Sample Output</p>
<p>Case 1: 89</p>
<p>Case 2: 4296</p>
<p>Case 3: 7711</p>
<p>Case 4: 946</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>the last <strong>m</strong> digits of <strong>f(n)</strong> <strong>== mod 10^m</strong></p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-14    10:36:36
By                : Tpaaaaaa
File_Name         ：1065NumberSequence.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;
const int siz = 2;           //矩阵的大小.
int MOD;           //矩阵快速幂的模数.
struct Mat//定义矩阵  
{  
    int mat[siz][siz];  
    void init()                //初始化为一个单位阵
    {  
        memset(mat, 0, sizeof(mat));  
        for(int i = 0; i &lt; siz; i++)
             mat[i][i] = 1;
     }   
};  
Mat mul(Mat a,Mat b)//矩阵乘法   
{  
    Mat ans;  
    ans.init();  
    for(int i = 0; i &lt; siz; i++)  
    {  
        for(int j = 0; j &lt; siz; j++)  
        {  
            ans.mat[i][j] = 0;  
            for(int k = 0; k &lt; siz; k++)  
                ans.mat[i][j] += a.mat[i][k] * b.mat[k][j];  
            ans.mat[i][j] %= MOD;  
        }  
    }  
    return ans;  
}  
Mat power(Mat a,int num)//矩阵快速幂模板   
{  
    Mat ans;  
    ans.init();  
    while(num)  
    {  
        if(num &amp; 1)  
            ans = mul(ans, a);
        num &gt;&gt;= 1;  
        a = mul(a, a);  
    }  
    return ans;  
} 
ll a, b, n, m;
int main()
{
    int t;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%lld%lld%lld%lld&quot;, &amp;a, &amp;b, &amp;n, &amp;m);
        MOD = pow(10, m);
        Mat p;
        p.mat[0][0] = 1; p.mat[0][1] = 1;
        p.mat[1][0] = 1; p.mat[1][1] = 0;
        p = power(p, n - 1);
        ll ans = ((p.mat[0][0] * b) % MOD + (p.mat[0][1] * a) % MOD) % MOD;
        printf(&quot;Case %d: %lld\n&quot;, kase, ans); 
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/14/1052-StringGrowth/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/14/1052-StringGrowth/" itemprop="url">1052 - StringGrowth</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-14T21:59:07+08:00">
                2019-10-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Zibon just started his courses in Computer science. After having some lectures on programming courses he fell in love with strings. He started to play with strings and experiments on them. One day he started a string of arbitrary (of course positive) length consisting of only <strong>{a, b}</strong>. He considered it as 1st string and generated subsequent strings from it by replacing all the <strong>b</strong>‘s with <strong>ab</strong>and all the <strong>a</strong>‘s with <strong>b</strong>. For example, if he <strong>ith</strong> string is <strong>abab</strong>, <strong>(i+1)th</strong> string will be <strong>b(ab)b(ab) = babbab</strong>. He found that the <strong>Nth</strong> string has length <strong>X</strong> and <strong>M</strong>th string has length <strong>Y</strong>. He wondered what will be length of the <strong>Kth</strong> string. Can you help him?Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 200)**, denoting the number of test cases.</p>
<p>Each case begins with five integers <strong>N, X, M, Y, K. (0 &lt; N, M, X, Y, K &lt; 109 and N ≠ M)</strong>.Output</p>
<p>For each case print one line containing the case number and <strong>L</strong> which is the desired length <strong>(mod 1000000007)</strong> or the string <strong>“Impossible”</strong> if it’s not possible.Sample Input</p>
<p>2</p>
<p>3 16 5 42 6</p>
<p>5 1 6 10 9</p>
<p>Sample Output</p>
<p>Case 1: 68</p>
<p>Case 2: Impossible</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>自己手推前几项，观察观察出来系数和裴波那契数有关。</p>
<p>ps：矩阵快速幂本质是为了求递推式，显然<strong>递推式可以满足模运算，所以我们可以直接在矩阵求幂的过程中取模了。</strong></p>
<pre><code>我们先推出前几项的式子，f(i) 表示 i st 的字符串的长度
显然我们有
f(1) = x + y;
f(2) = x + 2y;
f(3) = 2x + 3y;
f(4) = 3x + 5y;
f(5) = 5x + 8y;
发现其系数与裴波那切数有关，设p(1) = 1, p(2) = 1, p(3) = 2, p(4) = 3 ...
则有
f(i) = p(i) * x + p(i + 1) * y;
根据题目，我们得到两个方程
f(N) = p(N) * x + p(N + 1) * y;
f(M) = p(M) * x + p(M + 1) * y;
所以求裴波那切的时候用矩阵加速一下。
就可以解出来x与y
知道了x和y  就可以求出任意的f(k)了
同样也利用矩阵加速裴波那契递推式。</code></pre><h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-14    08:53:30
By                : Tpaaaaaa
File_Name         ：1052-StringGrowth.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

之前的思路憨憨了
我们有两个变量，一个是起始状态下a的数目，我们设为x， 起始状态下b的数目，我们设为y
我们先推出前几项的式子，f(i) 表示 i st 的字符串的长度
显然我们有
f(1) = x + y;
f(2) = x + 2y;
f(3) = 2x + 3y;
f(4) = 3x + 5y;
f(5) = 5x + 8y;
发现其系数与裴波那切数有关，设p(1) = 1, p(2) = 1, p(3) = 2, p(4) = 3 ...
则有
f(i) = p(i) * x + p(i + 1) * y;
根据题目，我们得到两个方程
f(N) = p(N) * x + p(N + 1) * y;
f(M) = p(M) * x + p(M + 1) * y;
所以求裴波那切的时候用矩阵加速一下。

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;
const int siz = 2;           //矩阵的大小.
const int MOD = 1000000007;           //矩阵快速幂的模数.
bool flag;
struct Mat//定义矩阵  
{  
    ll mat[siz][siz];  
    void init()                //初始化为一个单位阵
    {  
        memset(mat, 0, sizeof(mat));  
        for(int i = 0; i &lt; siz; i++)
             mat[i][i] = 1;
     }   
};  
Mat mul(Mat a,Mat b)//矩阵乘法   
{  
    Mat ans;  
    ans.init();  
    for(int i = 0; i &lt; siz; i++)  
    {  
        for(int j = 0; j &lt; siz; j++)  
        {  
            ans.mat[i][j] = 0;  
            for(int k = 0; k &lt; siz; k++)
            {
                ans.mat[i][j] += a.mat[i][k] * b.mat[k][j];
                ans.mat[i][j] %= MOD;  
            }  
        }  
    }  
    return ans;  
}  
Mat power(Mat a,ll num)//矩阵快速幂模板   
{  
    Mat ans;  
    ans.init();  
    while(num)  
    {  
        if(num &amp; 1)  
            ans = mul(ans, a);
        num &gt;&gt;= 1;  
        a = mul(a, a);  
    }  
    return ans;  
}
ll N, X, M, Y, K;
int main()
{
    int t;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        flag = false;
        scanf(&quot;%lld%lld%lld%lld%lld&quot;, &amp;N, &amp;X, &amp;M, &amp;Y, &amp;K);
        if(N &lt; M)
        {
            swap(N, M);
            swap(X, Y);
        }
        Mat t1;
        t1.mat[0][0] = 1; t1.mat[0][1] = 1;
        t1.mat[1][0] = 1; t1.mat[1][1] = 0;
        t1 = power(t1, N - 1);
        ll pn1 = t1.mat[1][0] + t1.mat[1][1];
        ll pn2 = t1.mat[0][0] + t1.mat[0][1];
        Mat t2;
        t2.mat[0][0] = 1; t2.mat[0][1] = 1;
        t2.mat[1][0] = 1; t2.mat[1][1] = 0;
        t2 = power(t2, M - 1);
        ll pm1 = t2.mat[1][0] + t2.mat[1][1];
        ll pm2 = t2.mat[0][0] + t2.mat[0][1];
        ll x1 = X * pm2 - Y * pn2;
        ll x2 = pn1 * pm2 - pm1 * pn2;
        ll y1 = Y * x2 - pm1 * x1;
        ll y2 = pm2 * x2;
        //方程没有整数解
        if(x1 % x2 || y1 % y2)
            printf(&quot;Case %d: Impossible\n&quot;, kase);
        else
        {
            Mat t3;
            t3.mat[0][0] = 1; t3.mat[0][1] = 1;
            t3.mat[1][0] = 1; t3.mat[1][1] = 0;
            t3 = power(t3, K - 1);
            ll x = x1 / x2;
            ll y = y1 / y2;
            if(x &lt; 0 || y &lt; 0)
                printf(&quot;Case %d: Impossible\n&quot;, kase);
            else
            {
                x %= MOD;
                y %= MOD;
                ll px = t3.mat[1][0] + t3.mat[1][1];
                ll py = t3.mat[0][0] + t3.mat[0][1];
                ll ans = (px * x) % MOD  + (py * y) % MOD;
                printf(&quot;Case %d: %lld\n&quot;, kase, ans % MOD); 
            }

        }

    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/13/HDU-4990Readingcomprehension/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/13/HDU-4990Readingcomprehension/" itemprop="url">HDU - 4990 Reading comprehension</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-13T23:04:23+08:00">
                2019-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Read the program below carefully then answer the question.<br>#pragma comment(linker, “/STACK:1024000000,1024000000”)<br>#include <cstdio><br>#include<iostream><br>#include <cstring><br>#include <cmath><br>#include <algorithm><br>#include<vector> </p>
<p>const int MAX=100000*2;<br>const int INF=1e9; </p>
<p>int main()<br>{<br>  int n,m,ans,i;<br>  while(scanf(“%d%d”,&amp;n,&amp;m)!=EOF)<br>  {<br>    ans=0;<br>    for(i=1;i&lt;=n;i++)<br>    {<br>      if(i&amp;1)ans=(ans<em>2+1)%m;<br>      else ans=ans</em>2%m;<br>    }<br>    printf(“%d\n”,ans);<br>  }<br>  return 0;<br>}InputMulti test cases，each line will contain two integers n and m. Process to end of file.<br><strong>[Technical Specification]</strong><br>1&lt;=n, m &lt;= 1000000000OutputFor each case，output an integer，represents the output of above program.Sample Input</p>
<p>1 10<br>3 100</p>
<p>Sample Output</p>
<p>1<br>5</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>两个解法：</p>
<p>①是直接手推一下求出为奇为偶时候各自的通项公式，就是一个等比数列求和的公式，然后用快速幂即可</p>
<p>②是手推出递推公式，然后用矩阵加速一下即可。</p>
<p>并且解锁一个新（其实早该掌握的）知识：</p>
<p>某种简单的逆元求法</p>
<pre><code>逆元的一种简单但有局限的求法
ans=a/b%m  &lt;==&gt;ans=a%(b*m)/b;

证明如下：

a/b=km+x;
a=kbm+bx;
a%(b*m)=bx;
a%(b*m)/b=x;
a/b%m=x=a%(b*m)/b;
前提是a能整除b,即b|a;</code></pre><h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><p>矩阵快速幂版本</p>
<pre><code>/*
Date              : 2019-10-13    09:33:07
By                : Tpaaaaaa
File_Name         ：ReadingcomprehensionHDU4990（矩阵快速幂版本）.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;
const int siz = 3;           //矩阵的大小.
ll MOD;           //矩阵快速幂的模数.
struct Mat//定义矩阵  
{  
    ll mat[siz][siz];  
    void init()                //初始化为一个单位阵
    {  
        memset(mat, 0, sizeof(mat));  
        for(int i = 0; i &lt; siz; i++)
             mat[i][i] = 1;
     }   
};  
Mat mul(Mat a,Mat b)//矩阵乘法   
{  
    Mat ans;  
    ans.init();  
    for(int i = 0; i &lt; siz; i++)  
    {  
        for(int j = 0; j &lt; siz; j++)  
        {  
            ans.mat[i][j] = 0;  
            for(int k = 0; k &lt; siz; k++)  
                ans.mat[i][j] += a.mat[i][k] * b.mat[k][j];  
            ans.mat[i][j] %= MOD;  
        }  
    }  
    return ans;  
}  
Mat power(Mat a,int num)//矩阵快速幂模板   
{  
    Mat ans;  
    ans.init();  
    while(num)  
    {  
        if(num &amp; 1)  
            ans = mul(ans, a);
        num &gt;&gt;= 1;  
        a = mul(a, a);  
    }  
    return ans;  
} 
int main()
{
    ll n;
    while(scanf(&quot;%lld%lld&quot;, &amp;n, &amp;MOD) != EOF)
    {
        Mat A;
        if(n == 1)  printf(&quot;%lld\n&quot;, 1 % MOD);
        else if(n == 2) printf(&quot;%lld\n&quot;, 2 % MOD);
        else
        {
            memset(A.mat, 0, sizeof A.mat);
            A.mat[0][0] = 1; A.mat[0][1] = 2; A.mat[0][2] = 1;
            A.mat[1][0] = 1; 
            A.mat[2][2] = 1;
            A = power(A, n - 2);
            ll ans = A.mat[0][0] * 2 + A.mat[0][1] * 1 + A.mat[0][2];
            printf(&quot;%lld\n&quot;, ans % MOD);
        }
    }
    return 0;
}</code></pre><p>等比数列求和版本</p>
<pre><code>/*
Date              : 2019-10-13    08:39:03
By                : Tpaaaaaa
File_Name         ：ReadingcomprehensionHDU4990.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题

//这题可以直接推出通项公式 + 快速幂 + 逆元. 也可以用矩阵求
//通项公式是： f(x) = (2^(x + 1) - 1) /  3; //x为奇
              f(x) = (2^(x + 1) - 2) /  3;
显然f(x)是整数，也就是等式右边能够整除，能够整除的话求逆元就可以用下面这个方法！

逆元的一种简单但有局限的求法
ans=a/b%m  &lt;==&gt;ans=a%(b*m)/b;

证明如下：

a/b=km+x;
a=kbm+bx;
a%(b*m)=bx;
a%(b*m)/b=x;
a/b%m=x=a%(b*m)/b;
前提是a能整除b,即b|a;
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 233;
ll mod;
ll q_pow(ll a, ll b)
{
    ll ans = 1;
    while(b)
    {
        if(b &amp; 1)   ans = ans * a % mod;
        a = a * a % mod;
        b &gt;&gt;= 1;
    }
    return ans;
}
int main()
{
    ll n, m;
    while(scanf(&quot;%lld %lld&quot;, &amp;n, &amp;m) != EOF)
    { 
        mod = 3 * m; 
        if(n &amp; 1)   //奇数
        {
            ll ans = (q_pow(2, n + 1) - 1) ;
            ans = ans / 3;
            printf(&quot;%lld\n&quot;, ans);
        }
        else
        {
            ll ans = (q_pow(2, n + 1) - 2) ;
            ans = ans / 3;
            printf(&quot;%lld\n&quot;, ans);
        }
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/13/1272-MaximumSubsetSum/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/13/1272-MaximumSubsetSum/" itemprop="url">1272 - Maximum Subset Sum</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-13T22:57:27+08:00">
                2019-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://lightoj.com/volume_submit.php?problem=1272" target="_blank" rel="noopener"> </a>  <a href="http://udebug.com/LOJ/1272" target="_blank" rel="noopener"></a></p>
<p><a href="http://lightoj.com/volume_showproblem.php?problem=1272&language=english&type=pdf" target="_blank" rel="noopener">PDF (English)</a></p>
<p><a href="http://lightoj.com/volume_problemstat.php?problem=1272" target="_blank" rel="noopener">Statistics</a></p>
<p><a href="http://lightoj.com/forum_showproblem.php?problem=1272" target="_blank" rel="noopener">Forum</a></p>
<p>Time Limit: 2 second(s)</p>
<p>Memory Limit: 32 MB</p>
<p>Little Jimmy is learning how to add integers. As in decimal the digits are 0 to 9, it makes a bit hard for him to understand the summation of all pair of digits. Since addition of numbers requires the knowledge of adding digits. So, his mother gave him a software that can convert a decimal integer to its binary and a binary to its corresponding decimal. So, Jimmy’s idea is to convert the numbers into binaries, and then he adds them and turns the result back to decimal using the software. It’s easy to add in binary, since you only need to know how to add (0, 0), (0, 1), (1, 0), (1, 1). Jimmy doesn’t have the idea of carry operation, so he thinks that</p>
<p>1 + 1 = 0</p>
<p>1 + 0 = 1</p>
<p>0 + 1 = 1</p>
<p>0 + 0 = 0</p>
<p>Using these operations, he adds the numbers in binary. So, according to his calculations,</p>
<p>3 (011) + 7 (111) = 4 (100)</p>
<p>Now you are given an array of <strong>n</strong> integers, indexed from <strong>0</strong> to <strong>n-1</strong>, you have to find a subset of the integers in the array such that the summation (according to Jimmy) of all integers in the subset is as large as possible. You only have to report the maximum sum.</p>
<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><p>Input starts with an integer <strong>T (**</strong>≤ 100)**, denoting the number of test cases.</p>
<p>Each case starts with a line containing an integer <strong>n (1 ≤ n ≤ 100)</strong>. The next line contains <strong>n</strong> space separated non-negative integers, denoting the integers of the given array. Each integer fits into a 64 bit signed integer.</p>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><p>For each case, print the case number, the maximum subset sum that can be made using Jimmy’s addition.</p>
<p>Sample Input</p>
<p>Output for Sample Input</p>
<p>239 11 554 8 8 4 4</p>
<p>Case 1: 14Case 2: 12</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p><strong>在一个数的集合里面选择出一个子集，使得这个子集的异或值最大。</strong></p>
<p>解锁了新的姿势——线性基（但是WA了 QAQ智商不够）</p>
<p>然后用高斯消元法解了…代码先挂在这算了（应该是还要向上清0）</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><p>线性基</p>
<pre><code>/*
Date              : 2019-10-13    14:36:19
By                : Tpaaaaaa
File_Name         ：1272MaximumSubsetSum.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
线性基的写法，为什么WA了。QAQ
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 70;
//将val插入到线性基中
ll a[MAXN];
void insert(ll val)
{
    for(int i = 63; i &gt;= 0; i--)
    {
        if(val &amp; (1ll &lt;&lt; i))
        {
            if(a[i] == 0)
            {
                a[i] = val;
                return;
            }
            else 
                val ^= a[i];
        }
    }
}
ll query_max()
{
    ll ret = 0;
    for(int i = 63; i &gt;= 0; i--)
    {
        if(ret ^ a[i] &gt; ret)
            ret ^= a[i];
    }
    return ret;
}
int main()
{
    int t, n;
    fileopen;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        memset(a, 0, sizeof a);
        scanf(&quot;%d&quot;, &amp;n);
        for(int i = 1; i &lt;= n; i++)
        {
            ll temp;
            scanf(&quot;%lld&quot;, &amp;temp);
            insert(temp);
        }

        ll ans = query_max();
        printf(&quot;Case %d: %lld\n&quot;, kase, ans);
    }
    fileclose;
    return 0;
}</code></pre><p>高斯消元法</p>
<pre><code>/*
Date              : 2019-10-13    15:00:56
By                : Tpaaaaaa
File_Name         ：1272MaximumSubsetSum（Guass）.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
利用高斯消元法的思想，其实就是线性基
将每个数字的二进制视为一行方程
这样就得到了一个n * 64的系数矩阵
通过上下方程的取xor，使得这个系数矩阵变成上三角形
然后从上往下遍历n个变化后的数，如果ret 异或上这个数之后变大了，就异或上

这不就是线性基吗！！！！！！WHY MY CODE IS WA?? WHY, SAD;
对高斯消元法的掌握更好了呢@@@嘻嘻
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 110;
ll a[MAXN];
//得到a数的二进制第p位（从右往左从0开始）
int get(ll a, int p)
{
    return 1 &amp; (a &gt;&gt; p);
}
//n * m 
void Gauss(int n, int m)
{
    int max_r;
    int col = 63, row = 0;
    for(; col &gt;= 0 &amp;&amp; row &lt; n; col--, row++)
    {
        max_r = row;
        for(int i = row + 1; i &lt; n; i++)
            if(get(a[i], col) &gt; get(a[max_r], col))     max_r = i;
        if(max_r != row)
        {
            ll temp = a[row];
            a[row] = a[max_r];
            a[max_r] = temp;
        }
        if(get(a[row], col) == 0)
        {
            row--;
            continue;
        }
        for(int i = row + 1; i &lt; n; i++)
            if(get(a[i], col))
                a[i] ^= a[row]; 
        //把上面的清理
        for(int i = 0; i &lt; row; i++)
            if(get(a[i], col))
                a[i] ^= a[row];            
    }

}
int main()
{
    int t, n;
    fileopen;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d&quot;, &amp;n);
        for(int i = 0; i &lt; n; i++)
            scanf(&quot;%lld&quot;, &amp;a[i]);
        Gauss(n, 63);
        ll ans = 0;
        for(int i = 0; i &lt; n; i++)
            ans ^= a[i];
        printf(&quot;Case %d: %lld\n&quot;, kase, ans);
    }
    fileclose;
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/13/1279-GraphColoring/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/13/1279-GraphColoring/" itemprop="url">1279 - Graph Coloring</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-13T22:47:27+08:00">
                2019-10-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E6%95%B0%E8%AE%BA/" itemprop="url" rel="index">
                    <span itemprop="name">数论</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://lightoj.com/volume_submit.php?problem=1279" target="_blank" rel="noopener"> </a>  <a href="http://udebug.com/LOJ/1279" target="_blank" rel="noopener"></a></p>
<p><a href="http://lightoj.com/volume_showproblem.php?problem=1279&language=english&type=pdf" target="_blank" rel="noopener">PDF (English)</a></p>
<p><a href="http://lightoj.com/volume_problemstat.php?problem=1279" target="_blank" rel="noopener">Statistics</a></p>
<p><a href="http://lightoj.com/forum_showproblem.php?problem=1279" target="_blank" rel="noopener">Forum</a></p>
<p>Time Limit: 2 second(s)</p>
<p>Memory Limit: 32 MB</p>
<p>Given an undirected graph <strong>G</strong>, you want to color each vertex of the graph using <strong>K</strong> colors. The colors are numbered from <strong>0</strong> to <strong>K-1</strong>. But there is one restriction. Let <strong>v</strong> be any vertex of the graph and <strong>u1, u2 … um</strong> be the adjacent vertices of <strong>v</strong>, then</p>
<p><strong>color(v) = color(u1) + color(u2) + … + color(um) (modulo K)</strong></p>
<p>Now you have to find the number of ways you can color the graph maintaining this restriction.</p>
<h1 id="Input"><a href="#Input" class="headerlink" title="Input"></a>Input</h1><p>Input starts with an integer <strong>T (**</strong>≤ 200)**, denoting the number of test cases.</p>
<p>Each case starts with a line containing three integers <strong>N</strong>, <strong>M **and</strong> K (1 ≤ N ≤ 100, 2 ≤ K ≤ 109 and K is a prime) <strong>where **N</strong> denotes the number of vertices and <strong>M</strong> denotes the number of edges of the graph.Each of the next <strong>M</strong> lines contains two integers <strong>u v (1 ≤ u, v ≤ N, u ≠ v)</strong> denoting that there is an edge between vertex <strong>u</strong> and <strong>v</strong>. You can safely assume that there is at most one edge between any two vertices.</p>
<h1 id="Output"><a href="#Output" class="headerlink" title="Output"></a>Output</h1><p>For each case, print the case number and the result modulo <strong>1000000007</strong>.</p>
<p>Sample Input</p>
<p>Output for Sample Input</p>
<p>26 0 55 4 31 21 32 43 5</p>
<p>Case 1: 1Case 2: 3</p>
<h1 id="Note"><a href="#Note" class="headerlink" title="Note"></a>Note</h1><p>For the second case, let the colors be red (0), green (1) and blue (2). Then the possible results are:</p>
<p><img src="http://lightoj.com/data/problems/desc/1279/a1.png" alt=""></p>
<p><img src="http://lightoj.com/data/problems/desc/1279/a2.png" alt=""></p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>高斯消元法 模线性方程组。一些细节要注意，能做模板。</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-13    15:50:11
By                : Tpaaaaaa
File_Name         ：1279 Graph Coloring.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
高斯消元法解模线性方程组。模板题
用链式前向星保存图
对于每个点他的连接的边，我们可以得到一个方程
他自己的系数为1，其他与他相连的系数为-1，其余为0.
得到n个方程，之后求解.

注意考虑系数是负数！！
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 110;
const int MOD  = 1000000007;
ll a[MAXN][MAXN];
int n, m;
ll k;
ll gcd(ll a, ll b)
{
    if(b == 0)  return a;
    return gcd(b, a%b);
}
ll lcm(ll a, ll b)
{
    return a/gcd(a, b) * b;
}
int Gauss(int equ, int var)
{
    int col = 1, row = 1, max_r;
    for(; col &lt;= var &amp;&amp; row &lt;= equ; col++, row++)
    {
        max_r = row;
        for(int i = row + 1; i &lt;= equ; i++)
            if(abs(a[max_r][col]) &lt; abs(a[i][col]))   max_r = i;
        if(max_r != row)
            for(int i = row; i &lt;= var + 1; i++)
                swap(a[max_r][i], a[row][i]);
        if(a[row][col] == 0)
        {
            row--;
            continue;
        }
        for(int i = row + 1; i &lt;= equ; i++)
        {
            if(a[i][col] != 0)
            {
                ll LCM = lcm(abs(a[row][col]), abs(a[i][col]));
                ll ta = LCM / a[i][col];
                ll tb = LCM / a[row][col];
                for(int j = col; j &lt;= var + 1; j++)
                    a[i][j] = ((a[i][j] * ta - a[row][j] * tb) % k + k) % k; 
            }
        }
    }
    return equ - row + 1;
}
ll qpow(ll a, int b)
{
    ll ret = 1;
    while(b)
    {
        if(b &amp; 1)
            ret = (ret * a) % MOD;
        a = (a * a) % MOD; 
        b &gt;&gt;= 1;
    }
    return ret;
}
int main()
{
    int t;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        memset(a, 0, sizeof a);
        //n点，m边，模k，点的编号从1开始
        scanf(&quot;%d%d%lld&quot;, &amp;n, &amp;m, &amp;k);
        for(int i = 1; i &lt;= n; i++)
            a[i][i] = 1;
        for(int i = 1; i &lt;= m; i++)
        {
            int u, v;
            scanf(&quot;%d%d&quot;, &amp;u, &amp;v);
            a[u][v] = -1;
            a[v][u] = -1;
        }
        //增广矩阵建立完了。
        int free_num = Gauss(n, n);
        ll ans = qpow(k, free_num);
        //传出来的是自由变量的数目
        if(free_num == 0)
            printf(&quot;Case %d: 1\n&quot;, kase);
        else
            printf(&quot;Case %d: %lld\n&quot;, kase, ans);
    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tpaaaaaa.github.io/tpaaaaaa.github.io/2019/10/12/LightOJ-1027ADangerousMaze/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="我玩维恩不学q">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/tpaaaaaa.github.io/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Tian's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/tpaaaaaa.github.io/2019/10/12/LightOJ-1027ADangerousMaze/" itemprop="url">LightOJ - 1027 A Dangerous Maze</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-10-12T22:25:53+08:00">
                2019-10-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tpaaaaaa.github.io/categories/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/" itemprop="url" rel="index">
                    <span itemprop="name">动态规划</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>You are in a maze; seeing <strong>n</strong> doors in front of you in beginning. You can choose any door you like. The probability for choosing a door is equal for all doors.</p>
<p>If you choose the <strong>ith</strong> door, it can either take you back to the same position where you begun in <strong>xi</strong>minutes, or can take you out of the maze after <strong>xi</strong> minutes. If you come back to the same position, you can’t remember anything. So, every time you come to the beginning position, you have no past experience.</p>
<p>Now you want to find the expected time to get out of the maze.Input</p>
<p>Input starts with an integer <strong>T (**</strong>≤ 100)**, denoting the number of test cases.</p>
<p>Each case contains a blank line and an integer <strong>n (1 ≤ n ≤ 100)</strong> denoting the number of doors. The next line contains <strong>n</strong> space separated integers. If the <strong>ith</strong> integer <strong>(xi)</strong> is positive, you can assume that the <strong>ith</strong> door will take you out of maze after <strong>xi</strong> minutes. If it’s negative, then the <strong>ith</strong> door will take you back to the beginning position after <strong>abs(xi)</strong> minutes. You can safely assume that <strong>1 ≤ abs(xi) ≤ 10000</strong>.Output</p>
<p>For each case, print the case number and the expected time to get out of the maze. If it’s impossible to get out of the maze, print <strong>‘inf’</strong>. Print the result in <strong>p/q</strong> format. Where <strong>p</strong> is the numerator of the result and <strong>q</strong> is the denominator of the result and they are relatively prime. See the samples for details.Sample Input</p>
<p>3</p>
<p>1</p>
<p>1</p>
<p>2</p>
<p>-10 -3</p>
<p>3</p>
<p>3 -6 -9Sample Output</p>
<p>Case 1: 1/1</p>
<p>Case 2: inf</p>
<p>Case 3: 18/1</p>
<h2 id="分析："><a href="#分析：" class="headerlink" title="分析："></a>分析：</h2><p>水题</p>
<h2 id="代码："><a href="#代码：" class="headerlink" title="代码："></a>代码：</h2><pre><code>/*
Date              : 2019-10-12    08:25:38
By                : Tpaaaaaa
File_Name         ：A DangerousMazeLightOJ1027.cpp
Description       : 
目前正在专项刷题，为了保证效果。
必须做到：
   1，先想出完整思路，并分析复杂度。
   2. 按照自己的思路过一遍样例，自己编几个复杂的样例
   3. 编写代码的时候，规范风格（例如变量名）
   4. 模块化答题
//
设dp[0]为在起点处走出迷宫的期望时间
dp[i] 为在第i个门上走出迷宫的期望时间

if(x[i] &gt; 0)    dp[i] = x[i];
else            dp[i] = -x[i] + dp[0];

得到递推公式
dp[0] = 1/n(dp[1] + dp[2] .... dp[n]);
得到
n*dp[0] = dp[1] + dp[2] ... + dp[n]

化简得到
*/
#include&lt;functional&gt;
#include&lt;cstdio&gt;
#include&lt;cstring&gt;
#include&lt;algorithm&gt;
#include&lt;iostream&gt;
#include&lt;string&gt;
#include&lt;vector&gt;
#include&lt;stack&gt;
#include&lt;bitset&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
#include&lt;set&gt;
#include&lt;list&gt;
#include&lt;deque&gt;
#include&lt;map&gt;
#include&lt;queue&gt;
#define md(x, y)  (x + y) / 2
#define ls(x)      x &lt;&lt; 1
#define rs(x)      x &lt;&lt; 1 | 1
#define fileopen freopen(&quot;in.txt&quot;, &quot;r&quot;, stdin); freopen(&quot;out.txt&quot;, &quot;w&quot;, stdout)
#define fileclose fclose(stdin); fclose(stdout)
using namespace std;
typedef long long ll;
typedef unsigned long long ull;
const double PI = acos(-1.0);
const double eps = 1e-6;
const int INF = 0x3f3f3f3f;
const int MAXN = 1e2 + 10;
int x;
int gcd(int a, int b)
{
    if(b == 0)  return a;
    else        return gcd(b, a % b);

}
int main()
{
    int t, n;
    int left, right;
    cin &gt;&gt; t;
    for(int kase = 1; kase &lt;= t; kase++)
    {
        scanf(&quot;%d&quot;, &amp;n);
        left = n;
        right = 0;
        for(int i = 1; i &lt;= n; i++)
        {
            scanf(&quot;%d&quot;, &amp;x);
            if(x &lt; 0)
            {
                right -= x;
                left--;
            }
            else
                right += x;
        }
        printf(&quot;Case %d: &quot;, kase);
        if(left == 0)
            printf(&quot;inf\n&quot;);
        else
        {
            int d = gcd(left, right);
            left /= d;
            right /= d;
            printf(&quot;%d/%d\n&quot;, right, left);
        }

    }
    return 0;
}</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
 <nav class="pagination">
   <a class="extend prev" rel="prev" href="/tpaaaaaa.github.io/page/6/"><i class="fa fa-angle-left" aria-label="accessibility.prev_page"></i></a><a class="page-number" href="/tpaaaaaa.github.io/">1</a><span class="space">&hellip;</span><a class="page-number" href="/tpaaaaaa.github.io/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/tpaaaaaa.github.io/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/tpaaaaaa.github.io/page/25/">25</a><a class="extend next" rel="next" href="/tpaaaaaa.github.io/page/8/"><i class="fa fa-angle-right" aria-label="accessibility.next_page"></i></a>
 </nav>

          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/tpaaaaaa.github.io/images/avatar.gif"
                alt="我玩维恩不学q" />
            
              <p class="site-author-name" itemprop="name">我玩维恩不学q</p>
              <p class="site-description motion-element" itemprop="description">个人blog</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/tpaaaaaa.github.io/archives">
              
                  <span class="site-state-item-count">245</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/tpaaaaaa.github.io/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tpaaaaaa.github.io/tags/index.html">
                  <span class="site-state-item-count">113</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">我玩维恩不学q</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/tpaaaaaa.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/tpaaaaaa.github.io/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/tpaaaaaa.github.io/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
